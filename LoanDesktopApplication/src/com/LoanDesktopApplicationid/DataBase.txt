CLIENT

CREATE TABLE CLIENT (
ID IDENTITY NOT NULL AUTO_INCREMENT PRIMARY KEY,
CLIENT_FULL_NAME VARCHAR(100) NOT NULL,
IDENTIFICATION_NUMBER BIGINT(20) NOT NULL UNIQUE,
PHONE_NUMBER VARCHAR(50) NULL,
GENDER_ID INT NOT NULL,
AGE TINYINT NULL
);

ALTER TABLE CLIENT ADD CONSTRAINT FK_CLIENT_TO_GENDER FOREIGN KEY (GENDER_ID) REFERENCES GENDER(ID);

-----------------------------------------------------

WORKER

CREATE TABLE  WORKER (
ID IDENTITY NOT NULL AUTO_INCREMENT PRIMARY KEY,
WORKER_FULL_NAME VARCHAR(100) NOT NULL,
GENDER_ID INT NOT NULL,
IDENTIFICATION_NUMBER BIGINT(20)  NOT NULL UNIQUE,
POSITION_ID INT NOT NULL
);

ALTER TABLE WORKER ADD CONSTRAINT FK_WORKER_TO_POSITION FOREIGN KEY ( POSITION_ID ) REFERENCES POSITION ( ID ) ;
ALTER TABLE WORKER ADD CONSTRAINT FK_WORKER_TO_GENDER FOREIGN KEY (GENDER_ID) REFERENCES GENDER(ID);
-----------------------------------------------------

LOAN

CREATE TABLE  LOAN (
ID IDENTITY NOT NULL AUTO_INCREMENT PRIMARY KEY,
CLIENT_ID INT NOT NULL,
WORKER_ID INT NULL,
AMOUNT DOUBLE NOT NULL,
INTEREST_RATE DOUBLE NOT NULL
);

ALTER TABLE LOAN ADD CONSTRAINT FK_WORKER_TO_LOAN FOREIGN KEY (WORKER_ID) REFERENCES WORKER(ID) ON DELETE RESTRICT;
ALTER TABLE LOAN ADD CONSTRAINT FK_CLIENT_TO_LOAN FOREIGN KEY (CLIENT_ID) REFERENCES CLIENT(ID) ON DELETE RESTRICT;

---
ALTER TABLE LOAN ADD CONSTRAINT FK_WORKER_TO_LOAN FOREIGN KEY (WORKER_ID) REFERENCES WORKER(ID) ON DELETE SET NULL ON UPDATE CASCADE;
ALTER TABLE LOAN ADD CONSTRAINT FK_CLIENT_TO_LOAN FOREIGN KEY (CLIENT_ID) REFERENCES CLIENT(ID) ON DELETE CASCADE ON UPDATE CASCADE;
----

-----------------------------------------------------

CREATE TABLE  GENDER (
ID IDENTITY NOT NULL AUTO_INCREMENT PRIMARY KEY,
GENDER VARCHAR(50) NOT NULL
);


INSERT INTO GENDER (GENDER) VALUES ('Male');
INSERT INTO GENDER (GENDER) VALUES ('Female');
//#TODO ADD MORE
INSERT INTO GENDER (GENDER) VALUES ('Other');


-----------------------------------------------------

POSITION

CREATE TABLE  POSITION (
ID IDENTITY NOT NULL AUTO_INCREMENT PRIMARY KEY ,
POSITION VARCHAR(50) NOT NULL
);

INSERT INTO POSITION (POSITION) VALUES ('Financial Analyst');
INSERT INTO POSITION (POSITION) VALUES ('Personal Financial Adviser');
INSERT INTO POSITION (POSITION) VALUES ('Accountant');
INSERT INTO POSITION (POSITION) VALUES ('Relationship Manager');
INSERT INTO POSITION (POSITION) VALUES ('Branch Manager');
INSERT INTO POSITION (POSITION) VALUES ('Loan Officer');
INSERT INTO POSITION (POSITION) VALUES ('Collector');
INSERT INTO POSITION (POSITION) VALUES ('Bank Teller');
//#TODO ADD MORE

-----------------------------------------------------